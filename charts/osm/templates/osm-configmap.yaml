apiVersion: v1
kind: ConfigMap
metadata:
  name: osm-config
  namespace: {{ .Release.Namespace }}
data:
  permissive_traffic_policy_mode: {{ .Values.OpenServiceMesh.enablePermissiveTrafficPolicy | quote | default "false" }}
  egress: {{ .Values.OpenServiceMesh.enableEgress | quote | default "true" }}
  prometheus_scraping: "true"
  zipkin_tracing: "true"
{{- if .Values.OpenServiceMesh.enableEgress }}
  mesh_cidr_ranges: {{ .Values.OpenServiceMesh.meshCIDRRanges | quote }}
{{- end }}
